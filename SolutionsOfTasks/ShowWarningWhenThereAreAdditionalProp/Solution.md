## Проверка доп реквизита у справочника

Модуль формы

```
&После ("ПриОткрытии")
&НаКлиенте
Процедура ТэстоСБ_ПриОткрытии(Отказ)
   сбз_УстановитьВидимостьДоступность();
   ОбновитьОстатки();
   АктивизацияЗакладкиТовары(Параметры.Ключ.Пустая()); 
   ТекстПредупреждения = ПредупреждениеПриВыбореНоменклатуры(Объект.Ссылка);
   Если ЗначениеЗаполнено(ТекстПредупреждения) Тогда
      ПоказатьПредупреждение(,ТекстПредупреждения);
   КонецЕсли;
КонецПроцедуры

&НаСервере
Функция ПредупреждениеПриВыбореНоменклатуры(Ссылка)   
   ТекстПредупреждения = "";
   
   Для каждого Товары Из Ссылка.Товары Цикл
      Номенклатура = Товары.Номенклатура;
      ПВХ_Комментарий = ПланыВидовХарактеристик.ДополнительныеРеквизитыИСведения.НайтиПоНаименованию("КомментарийПредупреждение");
      
      Если ЗначениеЗаполнено(ПВХ_Комментарий) Тогда
         СтрокаКомментарий = Номенклатура.ДополнительныеРеквизиты.Найти(ПВХ_Комментарий);
         Если ЗначениеЗаполнено(СтрокаКомментарий) Тогда
            ТекстПредупреждения = ТекстПредупреждения + Номенклатура + " - " + СтрокаКомментарий.Значение + ";" + Символы.ПС;          
         КонецЕсли;
      КонецЕсли;  
   КонецЦикла;
   
   Возврат ТекстПредупреждения;
КонецФункции
```
