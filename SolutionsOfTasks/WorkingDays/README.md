## Task
Создайте внешнюю обработку «Вычисление рабочих дней». 

Данная обработка должна вычислять количество рабочих дней в году, исходя из следующих условий: 
- нерабочими днями считаются субботы и воскресенья; 
- праздниками являются 1 января, 23 февраля и 8 марта; 
- если праздничный день попадает на субботу или воскресенье, то он не переносится.

Обеспечьте, чтобы обработка выдала данные о количестве рабочих дней за следующие 10 лет. 
Выводить информацию нужно в следующем формате: год – количество рабочих дней. Для вывода информации используйте функцию «Сообщить()». 
Например: 	 
2010 год – 258 рабочих дней 2011 год – 260 рабочих дней 
… 
Кроме этого, создание структуру «РабочиеДни». Ключом структуры является слово «Год» и номер года (например, «Год2012»), а значением количество рабочих дней. 
Проверьте, что возможно следующее обращение к данным структуры: 
Сообщить(РабочиеДни.Год2014). 


## Solution

```
&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ГодНачала = 2005;
КонецПроцедуры

&НаКлиенте
Процедура ВывестиРабочиеДни(Команда)
	ОчиститьСообщения();
	Если ГодНачала > 0 Тогда 
		РабочиеДни = Новый Структура; 
		ВывестиРабочиеДниДесятиЛет(ГодНачала, РабочиеДни);
		Сообщить(РабочиеДни.Год2014);
	Иначе                                           
		Сообщить("Год начала должен быть больше или равен 1");		
	КонецЕсли;
КонецПроцедуры


Процедура ВывестиРабочиеДниДесятиЛет(ГодНачала, РабочиеДни)
	ОбщееКоличествоРабочихДнейДесятиЛет = 0;
	Для Счетчик = 0 По 10 Цикл                  
		// 1. Определяем общее количество рабочих дней за год без учета последней недели.	
		// 1 год можно представить в виде таблице, где столбец - номер недели, а строка - номер подсчитываемого дня.
		// |  Неделя 1 |  1  |  2  |  3  |  4  |  5  |  6  |  7  |
		// |  Неделя 2 |  8  |  9  |  10 |  11 |  12 |  13 |  14 |
		// |     ...   | ... | ... | ... | ... | ... | ... | ... |
		// | Неделя 52 | 358 | 359 | 360 | 361 | 362 | 363 | 364 |
		// | Неделя 53 | 365 | 366 |
		
		ОбщееКоличествоРабочихДнейГода = 260; // 52 недели * 5 рабочих дней
		
		// 2. Определяем високосный ли год.  
		ВисокосныйГод = Ложь;  
		ТекущийГод = ГодНачала + Счетчик;
		Если ТекущийГод % 400 = 0 ИЛИ (ТекущийГод % 100 <> 0 И ТекущийГод % 4 = 0) Тогда
			ВисокосныйГод = Истина;  
		Иначе
			ВисокосныйГод = Ложь;  
		КонецЕсли;
		
		// 3. Определяем попадает ли праздник под выходной. Если не попадает, тогда вычитаем этот день из рабочих дней. 
		ТекущийГодСтр = Строка(ТекущийГод);  
		ТекущийГодСтр = СтрЗаменить(ТекущийГодСтр, Символы.НПП, "");
		ГодСтр = ТекущийГодСтр;
		
		Пока СтрДлина(ГодСтр) <> 4 Цикл
			ГодСтр = "0" + ГодСтр;
		КонецЦикла;
		
		НачалоМес = НачалоМесяца(ГодСтр + "0101000000");
		ДеньНед = ДеньНедели(НачалоМес);
		Если ДеньНед <> 6 И ДеньНед <> 7 Тогда
			ОбщееКоличествоРабочихДнейГода = ОбщееКоличествоРабочихДнейГода - 1;
		КонецЕсли; 
		
		ДеньНед = ДеньНедели(НачалоМес + 86400 * 22);
		Если ДеньНед <> 6 И ДеньНед <> 7 Тогда
			ОбщееКоличествоРабочихДнейГода = ОбщееКоличествоРабочихДнейГода - 1;
		КонецЕсли; 
		
		ДеньНед = ДеньНедели(НачалоМес + 86400 * 7);
		Если ДеньНед <> 6 И ДеньНед <> 7 Тогда
			ОбщееКоличествоРабочихДнейГода = ОбщееКоличествоРабочихДнейГода - 1;
		КонецЕсли; 
		
		
		// 4. Добавляем оставшиеся рабочие дни последней недели.
		// Для определения количества рабочих дней последней недели, необходимо определить 2 пункта:
		// 1) Сколько всего дней в году 365 или 366.
		// 2) Какой день недели начальной даты (01.01.гггг).
		// Таким образом у нас возможны следующие варианты:	
		// |  1  |  2  | 
		// | ... | ... | 
		// | 365 | 366 |   
		// | пн  | вт  |  Количество рабочих дней последней недели для 365/366 дней - 1/2 
		// | вт  | ср  |  Количество рабочих дней последней недели для 365/366 дней - 1/2
		// | ср  | чт  |  Количество рабочих дней последней недели для 365/366 дней - 1/2
		// | чт  | пт  |  Количество рабочих дней последней недели для 365/366 дней - 1/2
		// | пт  | сб  |  Количество рабочих дней последней недели для 365/366 дней - 1/1
		// | сб  | вс  |  Количество рабочих дней последней недели для 365/366 дней - 0/0
		// | вс  | пн  |  Количество рабочих дней последней недели для 365/366 дней - 0/1
		
		
		НачалоМес = НачалоМесяца(ГодСтр + "0101000000");		
		ДеньНед = ДеньНедели(НачалоМес);
		Если ВисокосныйГод Тогда
			Если ДеньНед <= 4 Тогда
				ОбщееКоличествоРабочихДнейГода = ОбщееКоличествоРабочихДнейГода + 2;
			Иначе
				ОбщееКоличествоРабочихДнейГода = ОбщееКоличествоРабочихДнейГода + 1;
			КонецЕсли;
		Иначе
			Если ДеньНед <= 5 Тогда
				ОбщееКоличествоРабочихДнейГода = ОбщееКоличествоРабочихДнейГода + 1;
			КонецЕсли;
		КонецЕсли;  
		
		РабочиеДни.Вставить("Год" + ТекущийГодСтр, ОбщееКоличествоРабочихДнейГода);
		ОбщееКоличествоРабочихДнейДесятиЛет = ОбщееКоличествоРабочихДнейДесятиЛет + ОбщееКоличествоРабочихДнейГода; 
	КонецЦикла;  
	
	// Отображение
	Год = "1";
	Для Каждого Элемент Из РабочиеДни Цикл  
		Год = Сред(Элемент.Ключ, 4, 4);
		СтрокаДляВывода = Год + " год - " + Элемент.Значение + " рабочих дней";
		Сообщить(СтрокаДляВывода);
	КонецЦикла; 	
КонецПроцедуры
```
